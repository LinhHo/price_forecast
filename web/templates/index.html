<!DOCTYPE html>
<html>
<head>
  <title>Price Forecast</title>
</head>
<body>
  <h1>Electricity Price Forecast</h1>

  <label>Zone:</label>
  <input id="zone" value="NL"/>

  <label>Prediction time (UTC):</label>
  <input id="date" placeholder="2024-01-15T12:00:00Z"/>

  <button onclick="runForecast()">Predict</button>

  <pre id="output"></pre>

  <script>
    async function runForecast() {
      const zone = document.getElementById("zone").value;
      const date = document.getElementById("date").value;

      let url = `/api/forecast?zone=${zone}`;
      if (date) url += `&date_to_predict=${date}`;

      const res = await fetch(url);
      const data = await res.json();

      document.getElementById("output").innerText =
        JSON.stringify(data, null, 2);
    }
  </script>
</body>
</html>
